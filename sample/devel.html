<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Sample editor</title>
	<link href="../src/component/component-resource.html" rel="import">
	<script src="../dist/pm-editor.js"></script>
	<style>
#editor {
	margin:1em;
	border:1px solid silver;
}
.ProseMirror-content {
	margin:0.1em;
	padding:0.1em;
}
	</style>
	<style>
.ProseMirror-content > p {
	position:relative;
	margin: 0.5em 0;
}
.ProseMirror-content > p:before {
	display: block;
	position: absolute;
	font-size: .8em;
	color: black;
	left: -.9em;
	content: '\00b6';
	opacity: .5;
	top: .1em;
}
</style>
	<script>
document.addEventListener('DOMContentLoaded', function() {
	var inspectorBase = "http://inspector.eda.sarl";

	var opts = {
		content: document.querySelector("#content"),
		place: document.querySelector("#editor"),
		inspector: function(url, cb) {
			GET(inspectorBase + "/inspector", {url: url}, function(err, obj) {
				if (err) return cb(err);
				if (obj.thumbnail) obj.thumbnail = inspectorBase + obj.thumbnail;
				cb(err, obj);
			});
		}
	};
	var pm = PmEditor.init(opts);
	opts.content.remove();
});
	</script>
</head>
<body>

<div id="editor"></div>
<div id="content">
<p>a</p>
<p>b</p>
<component-resource href="https://twitter.com/nodejs/status/766349381570142208" type="embed" icon="https://abs.twimg.com/favicons/favicon.ico" thumbnail="http://inspector.eda.sarl/images?url=https%3A%2F%2Fpbs.twimg.com%2Fmedia%2FCqKeszCUEAABqZ1.jpg%3Alarge">
	<component-widget type="begin"></component-widget>
	<div class="component-fields">
		<component-field name="title">Node.js on Twitter</component-field>
		<component-field name="description">“How #nodejs helps NASA keep astronauts safe and data accessible: https://t.co/X7uK697Tqd”</component-field>
	</div>
	<component-widget type="end"></component-widget>
</component-resource>
<p>c</p>
</div>
</body>
</html>
